{"version":3,"sources":["img/logo.png","pages/Layout.jsx","img/white-texture.jpg","img/AlbumLoader.gif","actions/firestoreActions.js","pages/Album.jsx","pages/Home.jsx","pages/Error404.jsx","App.js","reportWebVitals.js","index.js"],"names":["Layout","props","className","src","logo","alt","class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","msg","children","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","validateAlbumCode","code","getDocs","query","collection","then","querySnapshot","valid","data","forEach","doc","id","console","log","AlbumPropLoader","useState","isValid","setValid","setData","match","params","auth","getAuth","_isValid","_data","user","currentUser","passCode","email","albumData","albumId","to","Album","nextButtonClick","flipBook","pageFlip","flipNext","prevButtonClick","flipPrev","onPage","e","moveAlbum","setState","page","state","totalPage","onInit","getPageCount","handleLoad","temp","loadedPages","pages","loadedPercentage","target","getAttribute","albumStyle","isLoaded","handleError","isError","album","url","folderId","imagesArray","getPagesArray","noOfPages","isInvalidAlbum","visibility","noAlbumFound","img","Image","onload","albumWidth","naturalWidth","albumHeight","naturalHeight","bind","document","title","this","displayName","Loader","style","width","backgroundColor","height","role","aria-valuenow","aria-valuemin","aria-valuemax","albumType","size","minWidth","maxWidth","minHeight","maxHeight","maxShadowOpacity","mobileScrollSupport","showCover","onFlip","transform","ref","component","PageCover","onError","onLoad","whiteImg","map","image","i","Page","onClick","icon","faAngleLeft","faAngleRight","faShareAlt","faGoogleDrive","React","Component","forwardRef","data-density","res","push","Home","albumCode","setAlbumCode","password","setPassword","albumCodeVerified","setAlbumCodeVerified","passwordVerified","setPasswordVerified","isPasswordRequired","setPasswordRequired","error","setError","passwordError","setPasswordError","loading","setLoading","setAlbumData","goToAlbum","setPersistence","browserSessionPersistence","signInWithEmailAndPassword","userCredential","catch","errorMessage","message","verifyCode","trim","pathname","onSubmit","preventDefault","name","onChange","value","Error404","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f99ed329.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.42af7f30.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport logo from \"../img/logo.png\";\r\n\r\nexport default function Layout(props) {\r\n  return (\r\n    <>\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark p-4 m-2\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <img src={logo} alt=\"\" className=\"logo\" />\r\n          <button\r\n            class=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarNavDropdown\"\r\n            aria-controls=\"navbarNavDropdown\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          {/* <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavDropdown\">\r\n                        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" href=\"#\">About us</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" href=\"#\">Portfolio</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" href=\"#\">Contact</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div> */}\r\n        </div>\r\n      </nav>\r\n      {props.msg == \"alignChildrenCenter\" ? (\r\n        <div className=\"d-flex mt-5 justify-content-center align-items-center\">\r\n          {props.children}\r\n        </div>\r\n      ) : (\r\n        <>{props.children}</>\r\n      )}\r\n      <div className=\"ele\"></div>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/white-texture.62a2ef74.jpg\";","export default __webpack_public_path__ + \"static/media/AlbumLoader.25d06eb8.gif\";","import { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  query,\r\n  where,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDZFlwpw91E6UoJ8LpfsLZD0DX5-yTlhdw\",\r\n  authDomain: \"gravity-studio.firebaseapp.com\",\r\n  projectId: \"gravity-studio\",\r\n  storageBucket: \"gravity-studio.appspot.com\",\r\n  messagingSenderId: \"578866384591\",\r\n  appId: \"1:578866384591:web:63e43b531ce5878911f1ba\",\r\n  measurementId: \"G-VHWQ6CNY3C\",\r\n};\r\n\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\nconst db = getFirestore(firebaseApp);\r\n\r\nexport function validateAlbumCode(code) {\r\n  return getDocs(query(collection(db, \"Albums\"))).then((querySnapshot) => {\r\n    var valid = false;\r\n    var data = null;\r\n    querySnapshot.forEach((doc) => {\r\n      if (doc.id == code) {\r\n        console.log(\"Album Exists\");\r\n        valid = true;\r\n        data = doc.data();\r\n      }\r\n    });\r\n    return [valid, data];\r\n  });\r\n}\r\n\r\nexport function checkSession(code) {\r\n  return \"albumCode\" in sessionStorage && sessionStorage[\"albumCode\"] === code;\r\n}\r\n","import React from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport \"./../Album.css\";\r\nimport whiteImg from \"../img/white-texture.jpg\";\r\nimport Loader from \"../img/AlbumLoader.gif\";\r\nimport HTMLFlipBook from \"react-pageflip\";\r\n\r\n// icons\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAngleLeft,\r\n  faAngleRight,\r\n  faShareAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faGoogleDrive } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { validateAlbumCode } from \"../actions/firestoreActions\";\r\nimport { useState } from \"react\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst url = \"http://localhost:3001/api/album?\";\r\n\r\n// On album loading, check for\r\n// if the album id provided in route is valid\r\n// if not valid, show 404 component,\r\n// else,\r\n// check if album id already stored in session, yes, directly show the album\r\n// else,\r\n// check if this album is password protected\r\n// if yes, redirect to home page and prompt them to enter password\r\n// if no, directly show the album\r\n\r\nexport function AlbumPropLoader(props) {\r\n  const [isValid, setValid] = useState(null);\r\n  const [data, setData] = useState(null);\r\n  const code = props.match.params.id;\r\n  const auth = getAuth();\r\n  validateAlbumCode(code).then(([_isValid, _data]) => {\r\n    setValid(!!_isValid);\r\n    if (_isValid) setData(_data);\r\n  });\r\n\r\n  if (isValid && data) {\r\n    const user = auth.currentUser;\r\n    if (\r\n      (data.passCode == 1 && user != null && user.email == data.email) ||\r\n      data.passCode == 0\r\n    ) {\r\n      return <Album albumData={data} albumId={code} />;\r\n    } else {\r\n      return <Redirect to={`/?c=${code}`} />;\r\n    }\r\n  } else if (isValid == false) {\r\n    console.log(\"Redirecting 404\");\r\n    return <Redirect to=\"/404\" />;\r\n  } else {\r\n    return <></>;\r\n  }\r\n}\r\n\r\nexport default class Album extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.album = props.albumData;\r\n    this.id = props.albumId;\r\n    this.url = url + \"folderId=\" + this.album.folderId + \"&\";\r\n    this.imagesArray = getPagesArray(this.album);\r\n    this.pages = (this.album.noOfPages - 2) * 2 + 2;\r\n\r\n    this.state = {\r\n      isInvalidAlbum: false,\r\n      page: 0,\r\n      totalPage: 0,\r\n      moveAlbum: \"-25%\",\r\n      albumStyle: { visibility: \"hidden\" },\r\n      isLoaded: false,\r\n      isError: false,\r\n      noAlbumFound: false,\r\n      loadedPages: 1,\r\n      loadedPercentage: 0,\r\n    };\r\n\r\n    var img = new Image();\r\n    img.src = this.url + \"num=2&type=single&isLeftPage=false\";\r\n    img.onload = () => {\r\n      this.albumWidth = img.naturalWidth;\r\n      this.albumHeight = img.naturalHeight;\r\n    };\r\n\r\n    // gzG6lghbyRLMagaAqaHz  D5svdgG8\r\n    this.handleLoad = this.handleLoad.bind(this);\r\n  }\r\n\r\n  nextButtonClick = () => {\r\n    if (this.flipBook && this.flipBook.pageFlip()) {\r\n      this.flipBook.pageFlip().flipNext();\r\n    } else console.log(\"no\");\r\n  };\r\n\r\n  prevButtonClick = () => {\r\n    if (this.flipBook && this.flipBook.pageFlip()) {\r\n      this.flipBook.pageFlip().flipPrev();\r\n    } else console.log(\"no\");\r\n  };\r\n\r\n  onPage = (e) => {\r\n    var moveAlbum;\r\n    this.setState({\r\n      page: e.data,\r\n    });\r\n    if (this.state.page == 0) moveAlbum = \"-25%\";\r\n    else if (this.state.page == this.state.totalPage - 1) moveAlbum = \"25%\";\r\n    else moveAlbum = \"0%\";\r\n\r\n    this.setState({\r\n      moveAlbum: moveAlbum,\r\n    });\r\n  };\r\n\r\n  onInit = (e) => {\r\n    if (this.flipBook && this.flipBook.pageFlip()) {\r\n      this.setState({\r\n        totalPage: this.flipBook.pageFlip().getPageCount(),\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.title = this.album.displayName + \" Album | Gravity Studio\";\r\n  }\r\n\r\n  handleLoad = (e) => {\r\n    const temp = this.state.loadedPages + 1;\r\n    const pages = this.pages;\r\n    this.setState({\r\n      loadedPages: temp,\r\n      loadedPercentage: (temp / pages) * 100 + \"%\",\r\n    });\r\n\r\n    console.log(\r\n      e.target.getAttribute(\"page\"),\r\n      \"Loaded. loadedPages=\",\r\n      this.state.loadedPages\r\n    );\r\n    if (this.state.loadedPercentage === \"100%\") {\r\n      this.setState({\r\n        albumStyle: {},\r\n        isLoaded: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleError = (e) => {\r\n    e.target.alt = e.target.getAttribute(\"page\") + \" Loading failed\";\r\n    this.setState({\r\n      isError: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    var { moveAlbum, isLoaded, isError, isInvalidAlbum } = this.state;\r\n    if (isInvalidAlbum) return <Redirect to=\"/404\" />;\r\n    return (\r\n      <Layout>\r\n        {!isLoaded && !isError && (\r\n          <div className=\"w-100 h-75 d-flex justify-content-center align-items-center flex-column\">\r\n            <div>\r\n              <img src={Loader} alt=\"Loading...\" style={{ width: \"50vw\" }} />\r\n            </div>\r\n            <div\r\n              class=\"progress\"\r\n              style={{\r\n                width: \"50%\",\r\n                backgroundColor: \"gray\",\r\n                height: \"0.7rem\",\r\n              }}\r\n            >\r\n              <div\r\n                class=\"progress-bar progress-purple\"\r\n                role=\"progressbar\"\r\n                style={{ width: this.state.loadedPercentage }}\r\n                aria-valuenow={this.state.loadedPages}\r\n                aria-valuemin={0}\r\n                aria-valuemax={this.pages}\r\n              ></div>\r\n            </div>\r\n            <span className=\"m-5 text-light\">Launching Your Album</span>\r\n          </div>\r\n        )}\r\n\r\n        {isError && (\r\n          <div className=\"w-100 h-75 d-flex justify-content-center align-items-center flex-column\">\r\n            <span className=\"m-5 text-light\">Album Loading Failed</span>\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className=\"container w-100 d-flex flex-column justify-content-center align-items-center Album-container\"\r\n          style={this.state.albumStyle}\r\n        >\r\n          <h3 className=\"text-light mb-3\">\r\n            {\" \"}\r\n            {this.album.displayName} {this.album.albumType} Album\r\n          </h3>\r\n          <div className=\"message-turn text-light\">\r\n            {\" \"}\r\n            To view album, Turn your phone\r\n          </div>\r\n          <HTMLFlipBook\r\n            width={1000}\r\n            height={740}\r\n            size=\"stretch\"\r\n            minWidth={0}\r\n            maxWidth={2800}\r\n            minHeight={0}\r\n            maxHeight={800}\r\n            maxShadowOpacity={1}\r\n            mobileScrollSupport={true}\r\n            showCover={true}\r\n            className=\"Album-content\"\r\n            onFlip={this.onPage.bind(this)}\r\n            onInit={this.onInit}\r\n            style={{ transform: `translateX(${moveAlbum})` }}\r\n            ref={(component) => (this.flipBook = component)}\r\n          >\r\n            <PageCover type=\"right\">\r\n              <img\r\n                className=\"img\"\r\n                src={this.url + \"num=1&type=double&isLeftPage=false\"}\r\n                page=\"Front Cover\"\r\n                onError={this.handleError}\r\n                onLoad={this.handleLoad}\r\n              />\r\n            </PageCover>\r\n            <PageCover type=\"left\">\r\n              <img\r\n                src={whiteImg}\r\n                height={this.albumHeight}\r\n                width={this.albumWidth}\r\n                style={{ maxWidth: \"100%\", maxHeight: \"95%\" }}\r\n              />\r\n            </PageCover>\r\n\r\n            {this.imagesArray.map((image, i) => {\r\n              return (\r\n                <Page type={image.type}>\r\n                  <img\r\n                    className=\"img\"\r\n                    src={this.url + image.src}\r\n                    page={i}\r\n                    onError={this.handleError}\r\n                    onLoad={this.handleLoad}\r\n                  />\r\n                </Page>\r\n              );\r\n            })}\r\n\r\n            <PageCover type=\"right\">\r\n              <img\r\n                src={whiteImg}\r\n                height={this.albumHeight}\r\n                width={this.albumWidth}\r\n                style={{ maxWidth: \"100%\", maxHeight: \"95%\" }}\r\n              />\r\n            </PageCover>\r\n            <PageCover type=\"left\">\r\n              <img\r\n                className=\"img\"\r\n                src={this.url + \"num=1&type=double&isLeftPage=true\"}\r\n                page=\"Back Cover\"\r\n                onError={this.handleError}\r\n                onLoad={this.handleLoad}\r\n              />\r\n            </PageCover>\r\n          </HTMLFlipBook>\r\n          <div className=\"row navigation-row align-items-start mb-5\">\r\n            <button className=\"btn text-light\"></button>\r\n            <button className=\"btn text-light\"></button>\r\n            <button\r\n              className=\"btn text-light w-auto mx-5\"\r\n              onClick={this.prevButtonClick.bind(this)}\r\n            >\r\n              <FontAwesomeIcon icon={faAngleLeft} />\r\n            </button>\r\n            <div className=\"text-light my-auto\">\r\n              <span>{this.state.page}</span> of{\" \"}\r\n              <span>{this.state.totalPage}</span>\r\n            </div>\r\n            <button\r\n              className=\"btn text-light w-auto mx-5\"\r\n              onClick={this.nextButtonClick.bind(this)}\r\n            >\r\n              <FontAwesomeIcon icon={faAngleRight} />\r\n            </button>\r\n            <button className=\"btn text-light\">\r\n              <FontAwesomeIcon icon={faShareAlt} />\r\n            </button>\r\n            <button className=\"btn text-light\">\r\n              <FontAwesomeIcon icon={faGoogleDrive} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst PageCover = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className=\"page cover overflow-hidden\" ref={ref} data-density=\"hard\">\r\n      <div className={\"img-\" + props.type}>{props.children}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Page = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className=\"page\" ref={ref}>\r\n      <div className={\"img-\" + props.type}>{props.children}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst getPagesArray = (album) => {\r\n  var res = [];\r\n  res.push({ src: \"num=2&type=single&isLeftPage=false\", type: \"right\" });\r\n  for (var i = 3; i < album.noOfPages; i++) {\r\n    res.push({\r\n      src: \"num=\" + i + \"&type=double&isLeftPage=true\",\r\n      type: \"left\",\r\n    });\r\n    res.push({\r\n      src: \"num=\" + i + \"&type=double&isLeftPage=false\",\r\n      type: \"right\",\r\n    });\r\n  }\r\n  res.push({\r\n    src: \"num=\" + album.noOfPages + \"&type=single&isLeftPage=true\",\r\n    type: \"left\",\r\n  });\r\n  return res;\r\n};\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { validateAlbumCode } from \"../actions/firestoreActions\";\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  browserSessionPersistence,\r\n  setPersistence,\r\n} from \"firebase/auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n  const [albumCode, setAlbumCode] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [albumCodeVerified, setAlbumCodeVerified] = useState(false);\r\n  const [passwordVerified, setPasswordVerified] = useState(false);\r\n  const [isPasswordRequired, setPasswordRequired] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [albumData, setAlbumData] = useState(null);\r\n  const auth = getAuth();\r\n\r\n  const goToAlbum = (e) => {\r\n    setPasswordVerified(false);\r\n    setLoading(true);\r\n    // TODO: Authenticate with mail in data and provided pwd\r\n    setPasswordError(false);\r\n    setPersistence(auth, browserSessionPersistence).then(() => {\r\n      signInWithEmailAndPassword(auth, albumData.email, password)\r\n        .then((userCredential) => {\r\n          // Signed in\r\n          const user = userCredential.user;\r\n          // Move to next page (Album)\r\n          console.log(\"Success\");\r\n          setPasswordVerified(true);\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => {\r\n          const errorCode = error.code;\r\n          const errorMessage = error.message;\r\n          console.log(errorMessage);\r\n          setLoading(false);\r\n          setPasswordError(true);\r\n          setPasswordVerified(false);\r\n        });\r\n    });\r\n  };\r\n\r\n  const verifyCode = (e) => {\r\n    setPasswordVerified(false);\r\n    setLoading(true);\r\n    setError(false);\r\n    if (albumCode !== \"\") {\r\n      // Validating the album code\r\n      validateAlbumCode(albumCode.trim())\r\n        .then(([isValid, data]) => {\r\n          if (isValid) {\r\n            setAlbumData(data);\r\n            setAlbumCodeVerified(true);\r\n            if (data.passCode === 1) {\r\n              setPasswordRequired(true);\r\n              const user = auth.currentUser;\r\n              if (user != null && user.email == data.email) {\r\n                // Move to next page (Album)\r\n                setPasswordRequired(false);\r\n                console.log(\"Success\");\r\n              } else {\r\n                setPasswordVerified(false);\r\n              }\r\n            } else {\r\n              // Move to next page (Album)\r\n              console.log(\"Success\");\r\n            }\r\n            setLoading(false);\r\n          } else {\r\n            setAlbumCodeVerified(false);\r\n            setError(true);\r\n            setLoading(false);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          setError(true);\r\n          setAlbumCodeVerified(false);\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setError(true);\r\n      setAlbumCodeVerified(false);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (\r\n    albumCodeVerified &&\r\n    ((isPasswordRequired && passwordVerified) || !isPasswordRequired)\r\n  ) {\r\n    return <Redirect to={{ pathname: `/album/${albumCode}` }} />;\r\n  } else {\r\n    return (\r\n      <Layout>\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-12 col-lg-6\">\r\n            <div className=\"m-xl-5 pl-lg-5 m-md-3 text-center text-lg-left\">\r\n              <div className=\"ml-lg-5 text-dark\">GRAVITY STUDIO</div>\r\n              <div className=\"ml-lg-5 py-1 h1 font-weight-bold text-light gradient-text overflow-visible\">\r\n                View Your <br />\r\n                Photobook Online.\r\n              </div>\r\n              <div className=\"mx-5 text-gray\">\r\n                We host your Photo Books <br />\r\n                that can be viewed from <br />\r\n                <span className=\"text-light\">Anywhere and at Any device</span>.\r\n              </div>\r\n              <div className=\"mx-5 mt-3\">\r\n                <a class=\"btn btn-outline-light\">Coming Soon</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 col-lg-6 my-auto pr-lg-5\">\r\n            <div className=\"m-5 mr-lg-5 mt-5 mx-lg-5 px-md-5 px-lg-0\">\r\n              <div className=\"border border-dark rounded p-5 mx-2 mx-md-5 mx-lg-1 text-gray light-shadow\">\r\n                <h3>Open With a Photobook Code</h3>\r\n                Enter your Photobook code here\r\n                <br />\r\n                <div className=\"text-small text-gray my-2\">\r\n                  Find the Code on backside of your album. If Not Found, Please\r\n                  contact your Photography Company.\r\n                </div>\r\n                <form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    albumCodeVerified && isPasswordRequired\r\n                      ? goToAlbum()\r\n                      : verifyCode();\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"code\"\r\n                    id=\"code\"\r\n                    className=\"form-control mt-3 mb-2 bg-dark text-light\"\r\n                    onChange={(e) => {\r\n                      e.target.value !== \"\" && setError(false);\r\n                      setAlbumCode(e.target.value);\r\n                    }}\r\n                  />\r\n                  <small\r\n                    class={`form-text mb-3 text-muted ${error ? \"\" : \"d-none\"}`}\r\n                  >\r\n                    Please Enter a Valid Album Code.\r\n                  </small>\r\n\r\n                  {isPasswordRequired && (\r\n                    <>\r\n                      <div className=\"mt-4\">\r\n                        Seems Like this Album Requires a password. Please enter\r\n                        the password.\r\n                      </div>\r\n\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        id=\"password\"\r\n                        className=\"form-control mt-3 mb-2 bg-dark text-light\"\r\n                        onChange={(e) => {\r\n                          setPassword(e.target.value);\r\n                        }}\r\n                      />\r\n                      <small\r\n                        class={`form-text mb-3 text-muted ${\r\n                          passwordError ? \"\" : \"d-none\"\r\n                        }`}\r\n                      >\r\n                        The Password is incorrect.\r\n                      </small>\r\n                    </>\r\n                  )}\r\n                </form>\r\n                {albumCodeVerified && isPasswordRequired ? (\r\n                  <button\r\n                    onClick={goToAlbum}\r\n                    class={`btn btn-pink text-light my-2 w-auto ${\r\n                      loading ? \"d-none\" : \"\"\r\n                    }`}\r\n                  >\r\n                    Login\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={verifyCode}\r\n                    class={`btn btn-pink text-light my-2 w-auto ${\r\n                      loading ? \"d-none\" : \"\"\r\n                    }`}\r\n                  >\r\n                    View Photobook\r\n                  </button>\r\n                )}\r\n                <div class={`lds-ring ${loading ? \"\" : \"d-none\"}`}>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                  <div></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst randomStr = (length) => {\r\n  var result = \"\";\r\n  var characters =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n};\r\n","import react from \"react\";\r\n\r\nexport default function Error404() {\r\n    return (<div> 404 - Not Found </div>);\r\n}","import {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./bootstrap.css\";\r\nimport \"./App.css\";\r\n\r\nimport { AlbumPropLoader } from \"./pages/Album\";\r\nimport Home from \"./pages/Home\";\r\nimport Error404 from \"./pages/Error404\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/album/:id\" component={AlbumPropLoader} />\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/404\" component={Error404} />\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}